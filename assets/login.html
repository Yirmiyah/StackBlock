<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <title>StackBlock</title>
</head>

<body>
    <script type="module">
        import { loadHomePage } from '/js/index.js';
        import { loadLoginPage } from '/js/login.js';

        document.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', event => {
                event.preventDefault();
                const href = link.getAttribute('href');
                history.pushState(null, null, href);
                updateContent(); // Fonction pour mettre à jour le contenu de la page
            });
        });

        window.addEventListener('popstate', event => {
            history.replaceState(null, null, document.location.pathname);
            updateContent(); // Fonction pour mettre à jour le contenu de la page
        });

        function updateContent() {
            const path = window.location.pathname;
            if (path === '/') {
                // Afficher la page d'accueil
                loadHomePage();
            } else if (path === '/login') {
                // Afficher la page Login
                loadLoginPage();
            } else {
                // Afficher une page d'erreur 404
            }
        }

    </script>
</body>

</html>